# Polymarket Discrepancy Trading Bot

Этот бот ищет расхождения между ценами на Polymarket и реальными трендами (крипто-аналитика, экономический консенсус) и торгует по критерию >8% расхождения.

## Главная цель: ВЫЖИВАНИЕ
Бот спроектирован с упором на сохранение капитала:
- **Simulation Mode**: По умолчанию включен режим симуляции.
- **Risk Management**: Не более 5-10% баланса на одну сделку.
- **Stop-Loss**: При потере 50% начального баланса бот автоматически останавливается.
- **Liquidity Filter**: Торгует только в ликвидных бинарных (Yes/No) рынках.

## Как это работает
1. **Scanner**: Каждые 10 минут сканирует Polymarket на наличие активных рынков с высокой ликвидностью.
2. **Trend Analyzer**:
   - **Crypto**: Для рынков связанных с BTC, бот сравнивает текущую цену на Binance с целевой ценой в названии рынка и вычисляет вероятностный тренд.
   - **Macro**: Использует заданные консенсус-прогнозы для макроэкономических событий (ставки ФРС и т.д.).
   - **Extensibility**: Легко добавить новые источники (News API, Google Trends) в `src/services/analyzer.js`.
3. **Trader**: Если расхождение > 8%, бот записывает сделку (в симуляции) или выставляет ордер (в LIVE режиме).
4. **Logger**: Все сделки сохраняются в `src/data/trades.json`.

## Как получить API ключи
Для работы бота нужны 4 ключа: `POLY_PRIVATE_KEY`, `POLY_API_KEY`, `POLY_API_SECRET`, и `POLY_API_PASSPHRASE`.

1. **Private Key**: Зайдите в Polymarket -> Settings -> Account -> Export Private Key. Скопируйте его в файл `.env`.
2. **Остальные ключи**: Запустите скрипт генерации:
   ```bash
   node src/generate-keys.js
   ```
   Скрипт создаст (или получит существующие) API ключи для вашего кошелька. Скопируйте их в `.env`.

## Установка
1. Установите зависимости: `npm install`
2. Настройте `.env` (см. `.env.example`). 
   - Если вы находитесь в регионе, где Polymarket ограничен (например, Индонезия), обязательно укажите `PROXY_URL=http://your-proxy:port`.
3. Для запуска в режиме разработки: `npm run dev`
4. Для запуска в продакшне: `npm start`

## Переход в LIVE режим
Для реальной торговли:
1. Установите `SIMULATION_MODE=false` в `.env`.
2. Укажите ваши ключи Polymarket (Private Key, API Key, Secret, Passphrase).
3. Убедитесь, что на кошельке есть USDC на Polygon.

## Важное предупреждение
Торговля на предсказательных рынках сопряжена с высоким риском. Используйте бота только с теми средствами, которые готовы потерять. Бот предоставляется "как есть" для образовательных целей.
# polymarket-bot
